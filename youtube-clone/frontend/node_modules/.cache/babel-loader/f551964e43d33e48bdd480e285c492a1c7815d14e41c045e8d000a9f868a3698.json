{"ast":null,"code":"\"use client\";\n\n// CommentItem.jsx - Component for displaying a single comment\n// Used in the CommentSection component\nvar _jsxFileName = \"/Users/sonamzangmo/Desktop/WEB_Final_Project_Youtube/youtube-clone/frontend/src/components/comments/CommentItem.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./CommentItem.css\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CommentItem({\n  comment\n}) {\n  _s();\n  const [likes, setLikes] = useState(comment.likes || 0);\n  const [dislikes, setDislikes] = useState(comment.dislikes || 0);\n  const [userAction, setUserAction] = useState(null); // 'like', 'dislike', or null\n\n  // Format the comment date\n  const formatCommentDate = date => {\n    return formatDistanceToNow(new Date(date), {\n      addSuffix: true\n    });\n  };\n\n  // Handle like button click\n  const handleLike = () => {\n    if (userAction === \"like\") {\n      // User is unliking\n      setLikes(likes - 1);\n      setUserAction(null);\n    } else {\n      // User is liking\n      setLikes(likes + 1);\n\n      // If user previously disliked, remove the dislike\n      if (userAction === \"dislike\") {\n        setDislikes(dislikes - 1);\n      }\n      setUserAction(\"like\");\n    }\n  };\n\n  // Handle dislike button click\n  const handleDislike = () => {\n    if (userAction === \"dislike\") {\n      // User is undisliking\n      setDislikes(dislikes - 1);\n      setUserAction(null);\n    } else {\n      // User is disliking\n      setDislikes(dislikes + 1);\n\n      // If user previously liked, remove the like\n      if (userAction === \"like\") {\n        setLikes(likes - 1);\n      }\n      setUserAction(\"dislike\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comment-item\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: `/channel/${comment.user.id}`,\n      className: \"comment-item__avatar-link\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: comment.user.profilePicture || \"/placeholder.svg?height=40&width=40\",\n        alt: comment.user.username,\n        className: \"comment-item__avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-item__content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-item__header\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/channel/${comment.user.id}`,\n          className: \"comment-item__username\",\n          children: comment.user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"comment-item__date\",\n          children: formatCommentDate(comment.createdAt)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"comment-item__text\",\n        children: comment.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-item__actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `comment-item__action-btn ${userAction === \"like\" ? \"comment-item__action-btn--active\" : \"\"}`,\n          onClick: handleLike,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"comment-item__action-icon\",\n            children: \"\\uD83D\\uDC4D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), likes > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"comment-item__action-count\",\n            children: likes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `comment-item__action-btn ${userAction === \"dislike\" ? \"comment-item__action-btn--active\" : \"\"}`,\n          onClick: handleDislike,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"comment-item__action-icon\",\n            children: \"\\uD83D\\uDC4E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"comment-item__reply-btn\",\n          children: \"Reply\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(CommentItem, \"M1yNoS1Cx1RTkF18CDoBQunStH0=\");\n_c = CommentItem;\nexport default CommentItem;\nvar _c;\n$RefreshReg$(_c, \"CommentItem\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","Link","formatDistanceToNow","jsxDEV","_jsxDEV","CommentItem","comment","likes","setLikes","dislikes","setDislikes","userAction","setUserAction","formatCommentDate","date","Date","addSuffix","handleLike","handleDislike","className","children","to","user","id","src","profilePicture","alt","username","fileName","lineNumber","columnNumber","createdAt","text","onClick","_c","$RefreshReg$"],"sources":["/Users/sonamzangmo/Desktop/WEB_Final_Project_Youtube/youtube-clone/frontend/src/components/comments/CommentItem.jsx"],"sourcesContent":["\"use client\"\n\n// CommentItem.jsx - Component for displaying a single comment\n// Used in the CommentSection component\n\nimport { useState } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport \"./CommentItem.css\"\nimport { formatDistanceToNow } from \"date-fns\"\n\nfunction CommentItem({ comment }) {\n  const [likes, setLikes] = useState(comment.likes || 0)\n  const [dislikes, setDislikes] = useState(comment.dislikes || 0)\n  const [userAction, setUserAction] = useState(null) // 'like', 'dislike', or null\n\n  // Format the comment date\n  const formatCommentDate = (date) => {\n    return formatDistanceToNow(new Date(date), { addSuffix: true })\n  }\n\n  // Handle like button click\n  const handleLike = () => {\n    if (userAction === \"like\") {\n      // User is unliking\n      setLikes(likes - 1)\n      setUserAction(null)\n    } else {\n      // User is liking\n      setLikes(likes + 1)\n\n      // If user previously disliked, remove the dislike\n      if (userAction === \"dislike\") {\n        setDislikes(dislikes - 1)\n      }\n\n      setUserAction(\"like\")\n    }\n  }\n\n  // Handle dislike button click\n  const handleDislike = () => {\n    if (userAction === \"dislike\") {\n      // User is undisliking\n      setDislikes(dislikes - 1)\n      setUserAction(null)\n    } else {\n      // User is disliking\n      setDislikes(dislikes + 1)\n\n      // If user previously liked, remove the like\n      if (userAction === \"like\") {\n        setLikes(likes - 1)\n      }\n\n      setUserAction(\"dislike\")\n    }\n  }\n\n  return (\n    <div className=\"comment-item\">\n      <Link to={`/channel/${comment.user.id}`} className=\"comment-item__avatar-link\">\n        <img\n          src={comment.user.profilePicture || \"/placeholder.svg?height=40&width=40\"}\n          alt={comment.user.username}\n          className=\"comment-item__avatar\"\n        />\n      </Link>\n\n      <div className=\"comment-item__content\">\n        <div className=\"comment-item__header\">\n          <Link to={`/channel/${comment.user.id}`} className=\"comment-item__username\">\n            {comment.user.username}\n          </Link>\n          <span className=\"comment-item__date\">{formatCommentDate(comment.createdAt)}</span>\n        </div>\n\n        <p className=\"comment-item__text\">{comment.text}</p>\n\n        <div className=\"comment-item__actions\">\n          <button\n            className={`comment-item__action-btn ${userAction === \"like\" ? \"comment-item__action-btn--active\" : \"\"}`}\n            onClick={handleLike}\n          >\n            <span className=\"comment-item__action-icon\">üëç</span>\n            {likes > 0 && <span className=\"comment-item__action-count\">{likes}</span>}\n          </button>\n\n          <button\n            className={`comment-item__action-btn ${userAction === \"dislike\" ? \"comment-item__action-btn--active\" : \"\"}`}\n            onClick={handleDislike}\n          >\n            <span className=\"comment-item__action-icon\">üëé</span>\n          </button>\n\n          <button className=\"comment-item__reply-btn\">Reply</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CommentItem\n"],"mappings":"AAAA,YAAY;;AAEZ;AACA;AAAA,IAAAA,YAAA;EAAAC,EAAA,GAAAC,YAAA;AAEA,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAO,mBAAmB;AAC1B,SAASC,mBAAmB,QAAQ,UAAU;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE9C,SAASC,WAAWA,CAAC;EAAEC;AAAQ,CAAC,EAAE;EAAAR,EAAA;EAChC,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAACM,OAAO,CAACC,KAAK,IAAI,CAAC,CAAC;EACtD,MAAM,CAACE,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAACM,OAAO,CAACG,QAAQ,IAAI,CAAC,CAAC;EAC/D,MAAM,CAACE,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC,EAAC;;EAEnD;EACA,MAAMa,iBAAiB,GAAIC,IAAI,IAAK;IAClC,OAAOZ,mBAAmB,CAAC,IAAIa,IAAI,CAACD,IAAI,CAAC,EAAE;MAAEE,SAAS,EAAE;IAAK,CAAC,CAAC;EACjE,CAAC;;EAED;EACA,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIN,UAAU,KAAK,MAAM,EAAE;MACzB;MACAH,QAAQ,CAACD,KAAK,GAAG,CAAC,CAAC;MACnBK,aAAa,CAAC,IAAI,CAAC;IACrB,CAAC,MAAM;MACL;MACAJ,QAAQ,CAACD,KAAK,GAAG,CAAC,CAAC;;MAEnB;MACA,IAAII,UAAU,KAAK,SAAS,EAAE;QAC5BD,WAAW,CAACD,QAAQ,GAAG,CAAC,CAAC;MAC3B;MAEAG,aAAa,CAAC,MAAM,CAAC;IACvB;EACF,CAAC;;EAED;EACA,MAAMM,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAIP,UAAU,KAAK,SAAS,EAAE;MAC5B;MACAD,WAAW,CAACD,QAAQ,GAAG,CAAC,CAAC;MACzBG,aAAa,CAAC,IAAI,CAAC;IACrB,CAAC,MAAM;MACL;MACAF,WAAW,CAACD,QAAQ,GAAG,CAAC,CAAC;;MAEzB;MACA,IAAIE,UAAU,KAAK,MAAM,EAAE;QACzBH,QAAQ,CAACD,KAAK,GAAG,CAAC,CAAC;MACrB;MAEAK,aAAa,CAAC,SAAS,CAAC;IAC1B;EACF,CAAC;EAED,oBACER,OAAA;IAAKe,SAAS,EAAC,cAAc;IAAAC,QAAA,gBAC3BhB,OAAA,CAACH,IAAI;MAACoB,EAAE,EAAE,YAAYf,OAAO,CAACgB,IAAI,CAACC,EAAE,EAAG;MAACJ,SAAS,EAAC,2BAA2B;MAAAC,QAAA,eAC5EhB,OAAA;QACEoB,GAAG,EAAElB,OAAO,CAACgB,IAAI,CAACG,cAAc,IAAI,qCAAsC;QAC1EC,GAAG,EAAEpB,OAAO,CAACgB,IAAI,CAACK,QAAS;QAC3BR,SAAS,EAAC;MAAsB;QAAAS,QAAA,EAAA/B,YAAA;QAAAgC,UAAA;QAAAC,YAAA;MAAA,OACjC;IAAC;MAAAF,QAAA,EAAA/B,YAAA;MAAAgC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAEP1B,OAAA;MAAKe,SAAS,EAAC,uBAAuB;MAAAC,QAAA,gBACpChB,OAAA;QAAKe,SAAS,EAAC,sBAAsB;QAAAC,QAAA,gBACnChB,OAAA,CAACH,IAAI;UAACoB,EAAE,EAAE,YAAYf,OAAO,CAACgB,IAAI,CAACC,EAAE,EAAG;UAACJ,SAAS,EAAC,wBAAwB;UAAAC,QAAA,EACxEd,OAAO,CAACgB,IAAI,CAACK;QAAQ;UAAAC,QAAA,EAAA/B,YAAA;UAAAgC,UAAA;UAAAC,YAAA;QAAA,OAClB,CAAC,eACP1B,OAAA;UAAMe,SAAS,EAAC,oBAAoB;UAAAC,QAAA,EAAEP,iBAAiB,CAACP,OAAO,CAACyB,SAAS;QAAC;UAAAH,QAAA,EAAA/B,YAAA;UAAAgC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAF,QAAA,EAAA/B,YAAA;QAAAgC,UAAA;QAAAC,YAAA;MAAA,OAC/E,CAAC,eAEN1B,OAAA;QAAGe,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAEd,OAAO,CAAC0B;MAAI;QAAAJ,QAAA,EAAA/B,YAAA;QAAAgC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAEpD1B,OAAA;QAAKe,SAAS,EAAC,uBAAuB;QAAAC,QAAA,gBACpChB,OAAA;UACEe,SAAS,EAAE,4BAA4BR,UAAU,KAAK,MAAM,GAAG,kCAAkC,GAAG,EAAE,EAAG;UACzGsB,OAAO,EAAEhB,UAAW;UAAAG,QAAA,gBAEpBhB,OAAA;YAAMe,SAAS,EAAC,2BAA2B;YAAAC,QAAA,EAAC;UAAE;YAAAQ,QAAA,EAAA/B,YAAA;YAAAgC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EACpDvB,KAAK,GAAG,CAAC,iBAAIH,OAAA;YAAMe,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAEb;UAAK;YAAAqB,QAAA,EAAA/B,YAAA;YAAAgC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAF,QAAA,EAAA/B,YAAA;UAAAgC,UAAA;UAAAC,YAAA;QAAA,OACnE,CAAC,eAET1B,OAAA;UACEe,SAAS,EAAE,4BAA4BR,UAAU,KAAK,SAAS,GAAG,kCAAkC,GAAG,EAAE,EAAG;UAC5GsB,OAAO,EAAEf,aAAc;UAAAE,QAAA,eAEvBhB,OAAA;YAAMe,SAAS,EAAC,2BAA2B;YAAAC,QAAA,EAAC;UAAE;YAAAQ,QAAA,EAAA/B,YAAA;YAAAgC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAF,QAAA,EAAA/B,YAAA;UAAAgC,UAAA;UAAAC,YAAA;QAAA,OAC/C,CAAC,eAET1B,OAAA;UAAQe,SAAS,EAAC,yBAAyB;UAAAC,QAAA,EAAC;QAAK;UAAAQ,QAAA,EAAA/B,YAAA;UAAAgC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAF,QAAA,EAAA/B,YAAA;QAAAgC,UAAA;QAAAC,YAAA;MAAA,OACvD,CAAC;IAAA;MAAAF,QAAA,EAAA/B,YAAA;MAAAgC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAF,QAAA,EAAA/B,YAAA;IAAAgC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAChC,EAAA,CAzFQO,WAAW;AAAA6B,EAAA,GAAX7B,WAAW;AA2FpB,eAAeA,WAAW;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}