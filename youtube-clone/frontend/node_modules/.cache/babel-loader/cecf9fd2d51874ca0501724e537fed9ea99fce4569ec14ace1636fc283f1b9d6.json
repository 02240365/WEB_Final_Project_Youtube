{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/sonamzangmo/Downloads/youtube-clone/frontend/src/components/videos/VideoPlayer.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from \"react\";\nimport \"./VideoPlayer.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoPlayer = ({\n  videoUrl,\n  thumbnailUrl,\n  title\n}) => {\n  _s();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState(1);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showControls, setShowControls] = useState(true);\n  const videoRef = useRef(null);\n  const videoContainerRef = useRef(null);\n  const controlsTimeout = useRef(null);\n\n  // Format time in MM:SS format\n  const formatTime = timeInSeconds => {\n    const minutes = Math.floor(timeInSeconds / 60);\n    const seconds = Math.floor(timeInSeconds % 60);\n    return `${minutes}:${seconds < 10 ? \"0\" : \"\"}${seconds}`;\n  };\n\n  // Handle play/pause\n  const togglePlay = () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        videoRef.current.pause();\n      } else {\n        videoRef.current.play().catch(err => {\n          console.error(\"Error playing video:\", err);\n          setError(\"Failed to play video. Please try again.\");\n        });\n      }\n      setIsPlaying(!isPlaying);\n    }\n  };\n\n  // Handle seeking\n  const handleSeek = e => {\n    if (videoRef.current && duration) {\n      const seekTime = e.nativeEvent.offsetX / e.target.clientWidth * duration;\n      videoRef.current.currentTime = seekTime;\n      setCurrentTime(seekTime);\n    }\n  };\n\n  // Handle volume change\n  const handleVolumeChange = e => {\n    const newVolume = Number.parseFloat(e.target.value);\n    setVolume(newVolume);\n    if (videoRef.current) {\n      videoRef.current.volume = newVolume;\n    }\n  };\n\n  // Handle fullscreen toggle\n  const toggleFullscreen = () => {\n    if (!document.fullscreenElement) {\n      if (videoContainerRef.current.requestFullscreen) {\n        videoContainerRef.current.requestFullscreen();\n      } else if (videoContainerRef.current.webkitRequestFullscreen) {\n        videoContainerRef.current.webkitRequestFullscreen();\n      } else if (videoContainerRef.current.msRequestFullscreen) {\n        videoContainerRef.current.msRequestFullscreen();\n      }\n      setIsFullscreen(true);\n    } else {\n      if (document.exitFullscreen) {\n        document.exitFullscreen();\n      } else if (document.webkitExitFullscreen) {\n        document.webkitExitFullscreen();\n      } else if (document.msExitFullscreen) {\n        document.msExitFullscreen();\n      }\n      setIsFullscreen(false);\n    }\n  };\n\n  // Handle time update\n  const handleTimeUpdate = () => {\n    if (videoRef.current) {\n      setCurrentTime(videoRef.current.currentTime);\n    }\n  };\n\n  // Handle video loaded metadata\n  const handleLoadedMetadata = () => {\n    if (videoRef.current) {\n      setDuration(videoRef.current.duration);\n      setIsLoading(false);\n    }\n  };\n\n  // Handle video ended\n  const handleEnded = () => {\n    setIsPlaying(false);\n    setCurrentTime(0);\n    if (videoRef.current) {\n      videoRef.current.currentTime = 0;\n    }\n  };\n\n  // Handle mouse movement to show/hide controls\n  const handleMouseMove = () => {\n    setShowControls(true);\n\n    // Clear existing timeout\n    if (controlsTimeout.current) {\n      clearTimeout(controlsTimeout.current);\n    }\n\n    // Set new timeout to hide controls after 3 seconds\n    controlsTimeout.current = setTimeout(() => {\n      if (isPlaying) {\n        setShowControls(false);\n      }\n    }, 3000);\n  };\n\n  // Handle video error\n  const handleVideoError = e => {\n    console.error(\"Video error:\", e);\n    setError(\"Failed to load video. Please try again later.\");\n    setIsLoading(false);\n  };\n\n  // Clean up on unmount\n  useEffect(() => {\n    return () => {\n      if (controlsTimeout.current) {\n        clearTimeout(controlsTimeout.current);\n      }\n    };\n  }, []);\n\n  // Prepare video URL\n  const getFullVideoUrl = () => {\n    if (!videoUrl) return \"\";\n\n    // If it's already a full URL, return it\n    if (videoUrl.startsWith(\"http\")) {\n      return videoUrl;\n    }\n\n    // If it's a relative URL, prepend the API base URL\n    const apiBaseUrl = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\n    const baseUrl = apiBaseUrl.replace(\"/api\", \"\");\n\n    // If the URL starts with /uploads, it's a local file\n    if (videoUrl.startsWith(\"/uploads\")) {\n      return `${baseUrl}${videoUrl}`;\n    }\n\n    // Otherwise, assume it's a relative path to the uploads directory\n    return `${baseUrl}/uploads/videos/${videoUrl}`;\n  };\n\n  // Debug the video URL\n  useEffect(() => {\n    console.log(\"Video URL:\", videoUrl);\n    console.log(\"Full video URL:\", getFullVideoUrl());\n  }, [videoUrl]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"video-player-container\",\n    ref: videoContainerRef,\n    onMouseMove: handleMouseMove,\n    children: [isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading video...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-error\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.location.reload(),\n        children: \"Retry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      className: \"video-player\",\n      poster: thumbnailUrl,\n      onClick: togglePlay,\n      onTimeUpdate: handleTimeUpdate,\n      onLoadedMetadata: handleLoadedMetadata,\n      onEnded: handleEnded,\n      onError: handleVideoError,\n      onLoadStart: () => setIsLoading(true),\n      onCanPlay: () => setIsLoading(false),\n      children: [/*#__PURE__*/_jsxDEV(\"source\", {\n        src: getFullVideoUrl(),\n        type: \"video/mp4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), \"Your browser does not support the video tag.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `video-controls ${showControls ? \"show\" : \"hide\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar\",\n        onClick: handleSeek,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress\",\n          style: {\n            width: `${currentTime / duration * 100}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls-bottom\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-button\",\n          onClick: togglePlay,\n          children: isPlaying ? /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-pause\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 26\n          }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-play\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 61\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"volume-control\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: `fas ${volume === 0 ? \"fa-volume-mute\" : \"fa-volume-up\"}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"0\",\n            max: \"1\",\n            step: \"0.1\",\n            value: volume,\n            onChange: handleVolumeChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"time-display\",\n          children: [formatTime(currentTime), \" / \", formatTime(duration)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-button fullscreen\",\n          onClick: toggleFullscreen,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: `fas ${isFullscreen ? \"fa-compress\" : \"fa-expand\"}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoPlayer, \"TxyZcvgww2ZFGV8alSHQKpTSANM=\");\n_c = VideoPlayer;\nexport default VideoPlayer;\nvar _c;\n$RefreshReg$(_c, \"VideoPlayer\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useRef","useEffect","jsxDEV","_jsxDEV","VideoPlayer","videoUrl","thumbnailUrl","title","isPlaying","setIsPlaying","currentTime","setCurrentTime","duration","setDuration","volume","setVolume","isFullscreen","setIsFullscreen","isLoading","setIsLoading","error","setError","showControls","setShowControls","videoRef","videoContainerRef","controlsTimeout","formatTime","timeInSeconds","minutes","Math","floor","seconds","togglePlay","current","pause","play","catch","err","console","handleSeek","e","seekTime","nativeEvent","offsetX","target","clientWidth","handleVolumeChange","newVolume","Number","parseFloat","value","toggleFullscreen","document","fullscreenElement","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","msExitFullscreen","handleTimeUpdate","handleLoadedMetadata","handleEnded","handleMouseMove","clearTimeout","setTimeout","handleVideoError","getFullVideoUrl","startsWith","apiBaseUrl","process","env","REACT_APP_API_URL","baseUrl","replace","log","className","ref","onMouseMove","children","fileName","lineNumber","columnNumber","onClick","window","location","reload","poster","onTimeUpdate","onLoadedMetadata","onEnded","onError","onLoadStart","onCanPlay","src","type","style","width","min","max","step","onChange","_c","$RefreshReg$"],"sources":["/Users/sonamzangmo/Downloads/youtube-clone/frontend/src/components/videos/VideoPlayer.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useRef, useEffect } from \"react\"\nimport \"./VideoPlayer.css\"\n\nconst VideoPlayer = ({ videoUrl, thumbnailUrl, title }) => {\n  const [isPlaying, setIsPlaying] = useState(false)\n  const [currentTime, setCurrentTime] = useState(0)\n  const [duration, setDuration] = useState(0)\n  const [volume, setVolume] = useState(1)\n  const [isFullscreen, setIsFullscreen] = useState(false)\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState(null)\n  const [showControls, setShowControls] = useState(true)\n\n  const videoRef = useRef(null)\n  const videoContainerRef = useRef(null)\n  const controlsTimeout = useRef(null)\n\n  // Format time in MM:SS format\n  const formatTime = (timeInSeconds) => {\n    const minutes = Math.floor(timeInSeconds / 60)\n    const seconds = Math.floor(timeInSeconds % 60)\n    return `${minutes}:${seconds < 10 ? \"0\" : \"\"}${seconds}`\n  }\n\n  // Handle play/pause\n  const togglePlay = () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        videoRef.current.pause()\n      } else {\n        videoRef.current.play().catch((err) => {\n          console.error(\"Error playing video:\", err)\n          setError(\"Failed to play video. Please try again.\")\n        })\n      }\n      setIsPlaying(!isPlaying)\n    }\n  }\n\n  // Handle seeking\n  const handleSeek = (e) => {\n    if (videoRef.current && duration) {\n      const seekTime = (e.nativeEvent.offsetX / e.target.clientWidth) * duration\n      videoRef.current.currentTime = seekTime\n      setCurrentTime(seekTime)\n    }\n  }\n\n  // Handle volume change\n  const handleVolumeChange = (e) => {\n    const newVolume = Number.parseFloat(e.target.value)\n    setVolume(newVolume)\n    if (videoRef.current) {\n      videoRef.current.volume = newVolume\n    }\n  }\n\n  // Handle fullscreen toggle\n  const toggleFullscreen = () => {\n    if (!document.fullscreenElement) {\n      if (videoContainerRef.current.requestFullscreen) {\n        videoContainerRef.current.requestFullscreen()\n      } else if (videoContainerRef.current.webkitRequestFullscreen) {\n        videoContainerRef.current.webkitRequestFullscreen()\n      } else if (videoContainerRef.current.msRequestFullscreen) {\n        videoContainerRef.current.msRequestFullscreen()\n      }\n      setIsFullscreen(true)\n    } else {\n      if (document.exitFullscreen) {\n        document.exitFullscreen()\n      } else if (document.webkitExitFullscreen) {\n        document.webkitExitFullscreen()\n      } else if (document.msExitFullscreen) {\n        document.msExitFullscreen()\n      }\n      setIsFullscreen(false)\n    }\n  }\n\n  // Handle time update\n  const handleTimeUpdate = () => {\n    if (videoRef.current) {\n      setCurrentTime(videoRef.current.currentTime)\n    }\n  }\n\n  // Handle video loaded metadata\n  const handleLoadedMetadata = () => {\n    if (videoRef.current) {\n      setDuration(videoRef.current.duration)\n      setIsLoading(false)\n    }\n  }\n\n  // Handle video ended\n  const handleEnded = () => {\n    setIsPlaying(false)\n    setCurrentTime(0)\n    if (videoRef.current) {\n      videoRef.current.currentTime = 0\n    }\n  }\n\n  // Handle mouse movement to show/hide controls\n  const handleMouseMove = () => {\n    setShowControls(true)\n\n    // Clear existing timeout\n    if (controlsTimeout.current) {\n      clearTimeout(controlsTimeout.current)\n    }\n\n    // Set new timeout to hide controls after 3 seconds\n    controlsTimeout.current = setTimeout(() => {\n      if (isPlaying) {\n        setShowControls(false)\n      }\n    }, 3000)\n  }\n\n  // Handle video error\n  const handleVideoError = (e) => {\n    console.error(\"Video error:\", e)\n    setError(\"Failed to load video. Please try again later.\")\n    setIsLoading(false)\n  }\n\n  // Clean up on unmount\n  useEffect(() => {\n    return () => {\n      if (controlsTimeout.current) {\n        clearTimeout(controlsTimeout.current)\n      }\n    }\n  }, [])\n\n  // Prepare video URL\n  const getFullVideoUrl = () => {\n    if (!videoUrl) return \"\"\n\n    // If it's already a full URL, return it\n    if (videoUrl.startsWith(\"http\")) {\n      return videoUrl\n    }\n\n    // If it's a relative URL, prepend the API base URL\n    const apiBaseUrl = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\"\n    const baseUrl = apiBaseUrl.replace(\"/api\", \"\")\n\n    // If the URL starts with /uploads, it's a local file\n    if (videoUrl.startsWith(\"/uploads\")) {\n      return `${baseUrl}${videoUrl}`\n    }\n\n    // Otherwise, assume it's a relative path to the uploads directory\n    return `${baseUrl}/uploads/videos/${videoUrl}`\n  }\n\n  // Debug the video URL\n  useEffect(() => {\n    console.log(\"Video URL:\", videoUrl)\n    console.log(\"Full video URL:\", getFullVideoUrl())\n  }, [videoUrl])\n\n  return (\n    <div className=\"video-player-container\" ref={videoContainerRef} onMouseMove={handleMouseMove}>\n      {isLoading && (\n        <div className=\"video-loading\">\n          <div className=\"spinner\"></div>\n          <p>Loading video...</p>\n        </div>\n      )}\n\n      {error && (\n        <div className=\"video-error\">\n          <p>{error}</p>\n          <button onClick={() => window.location.reload()}>Retry</button>\n        </div>\n      )}\n\n      <video\n        ref={videoRef}\n        className=\"video-player\"\n        poster={thumbnailUrl}\n        onClick={togglePlay}\n        onTimeUpdate={handleTimeUpdate}\n        onLoadedMetadata={handleLoadedMetadata}\n        onEnded={handleEnded}\n        onError={handleVideoError}\n        onLoadStart={() => setIsLoading(true)}\n        onCanPlay={() => setIsLoading(false)}\n      >\n        <source src={getFullVideoUrl()} type=\"video/mp4\" />\n        Your browser does not support the video tag.\n      </video>\n\n      <div className={`video-controls ${showControls ? \"show\" : \"hide\"}`}>\n        <div className=\"progress-bar\" onClick={handleSeek}>\n          <div className=\"progress\" style={{ width: `${(currentTime / duration) * 100}%` }}></div>\n        </div>\n\n        <div className=\"controls-bottom\">\n          <button className=\"control-button\" onClick={togglePlay}>\n            {isPlaying ? <i className=\"fas fa-pause\"></i> : <i className=\"fas fa-play\"></i>}\n          </button>\n\n          <div className=\"volume-control\">\n            <i className={`fas ${volume === 0 ? \"fa-volume-mute\" : \"fa-volume-up\"}`}></i>\n            <input type=\"range\" min=\"0\" max=\"1\" step=\"0.1\" value={volume} onChange={handleVolumeChange} />\n          </div>\n\n          <div className=\"time-display\">\n            {formatTime(currentTime)} / {formatTime(duration)}\n          </div>\n\n          <button className=\"control-button fullscreen\" onClick={toggleFullscreen}>\n            <i className={`fas ${isFullscreen ? \"fa-compress\" : \"fa-expand\"}`}></i>\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default VideoPlayer\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}