{"ast":null,"code":"\"use client\";import{useState,useRef,useEffect}from\"react\";import\"./VideoPlayer.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VideoPlayer=_ref=>{let{videoUrl,thumbnailUrl,title}=_ref;const[error,setError]=useState(null);const[isLoading,setIsLoading]=useState(true);const[isPlaying,setIsPlaying]=useState(false);const videoRef=useRef(null);// Construct video URL - use the provided URL directly\nconst getVideoSrc=()=>{if(!videoUrl){console.log(\"No video URL provided\");return null;}console.log(\"Using video URL:\",videoUrl);return videoUrl;};const videoSrc=getVideoSrc();useEffect(()=>{console.log(\"VideoPlayer - Using video source:\",videoSrc);setIsLoading(false);// Don't pre-check, let video element handle it\n},[videoSrc]);const handleVideoError=e=>{console.error(\"Video playback error:\",e);const video=e.target;if(video.error){console.error(\"Video error details:\",{code:video.error.code,message:video.error.message,src:video.src});}setError(\"Cannot play this video\");setIsLoading(false);};const handleVideoLoad=()=>{console.log(\"Video loaded successfully\");setIsLoading(false);setError(null);};const handleVideoLoadStart=()=>{console.log(\"Video load started\");setIsLoading(true);};const handleVideoCanPlay=()=>{console.log(\"Video can play\");setIsLoading(false);};const handlePlay=()=>{setIsPlaying(true);};const handlePause=()=>{setIsPlaying(false);};if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"video-player-error\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Video Unavailable\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"debug-info\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Video URL:\"}),\" \",videoSrc]})}),/*#__PURE__*/_jsx(\"button\",{className:\"retry-button\",onClick:()=>{setError(null);setIsLoading(true);if(videoRef.current){videoRef.current.load();}},children:\"Try Again\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"video-player-container\",children:[isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"video-loading-overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading video...\"})]}),/*#__PURE__*/_jsxs(\"video\",{ref:videoRef,className:\"video-player\",src:videoSrc,poster:thumbnailUrl,controls:true,preload:\"metadata\",onError:handleVideoError,onLoadedData:handleVideoLoad,onLoadStart:handleVideoLoadStart,onCanPlay:handleVideoCanPlay,onPlay:handlePlay,onPause:handlePause,style:{width:\"100%\",height:\"auto\"},children:[/*#__PURE__*/_jsx(\"source\",{src:videoSrc,type:\"video/mp4\"}),\"Your browser does not support the video tag.\"]})]});};export default VideoPlayer;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}